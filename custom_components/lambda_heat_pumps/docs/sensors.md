# Lambda Heat Pump Sensors Documentation

## Overview 
This document describes all available sensors in the Lambda Heat Pump integration, with a focus on the newly added Buffer and Solar module sensors.

## Buffer Module Sensors
Base address range: 3000-3400

### State Sensors
- **Buffer Operating State**: Current operating state of the buffer
  - Address: 3000
  - Type: State sensor
  - States: Mapped according to BUFFER_OPERATING_STATE
  - Unit: None

### Temperature Sensors
- **Buffer Temperature Top**: Temperature at the top of the buffer
  - Address: 3100
  - Type: Temperature sensor
  - Unit: °C
  - Scaling Factor: 0.1

- **Buffer Temperature Bottom**: Temperature at the bottom of the buffer
  - Address: 3101
  - Type: Temperature sensor
  - Unit: °C
  - Scaling Factor: 0.1

- **Buffer Target Temperature**: Target temperature for the buffer
  - Address: 3102
  - Type: Temperature sensor
  - Unit: °C
  - Scaling Factor: 0.1

## Solar Module Sensors
Base address range: 4000-4100

### State Sensors
- **Solar Operating State**: Current operating state of the solar system
  - Address: 4000
  - Type: State sensor
  - States: Mapped according to SOLAR_OPERATING_STATE
  - Unit: None

### Temperature Sensors
- **Solar Collector Temperature**: Temperature at the solar collector
  - Address: 4100
  - Type: Temperature sensor
  - Unit: °C
  - Scaling Factor: 0.1

- **Solar Storage Temperature**: Temperature of the solar storage
  - Address: 4101
  - Type: Temperature sensor
  - Unit: °C
  - Scaling Factor: 0.1

### Performance Sensors
- **Solar Power Current**: Current power output of the solar system
  - Address: 4200
  - Type: Power sensor
  - Unit: kW
  - Scaling Factor: 0.1

- **Solar Energy Total**: Total energy generated by the solar system
  - Address: 4201
  - Type: Energy sensor
  - Unit: kWh
  - Scaling Factor: 1

## Configuration
Both Buffer and Solar modules can be configured in the integration setup:
- Number of Buffer modules: 1-10
- Number of Solar modules: 1-10

## Firmware Compatibility
All new sensors are available from firmware version 1 onwards.

## Notes
- All temperature sensors use a scaling factor of 0.1 for precise measurements
- State sensors use specific state mappings defined in the integration
- All sensors are updated according to the configured update interval
- Sensors are automatically created based on the number of configured modules

## Error Handling
- Invalid or unavailable sensor values are reported as errors
- State sensors with unknown states will report "unknown"
- Temperature sensors with invalid readings will report "unavailable"

## Central Filtering and Options
- Sensors are only shown if they are compatible with the selected firmware version (central filtering via `utils.py`).
- Firmware version and temperature ranges are configurable at any time in the options dialog.
- Initial values for sensors (e.g. dummy) can be set in const.py. 